<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head('Edit User')"></head>
<body class="d-flex flex-column min-vh-100">
<header th:replace="fragments/header :: navbar"></header>

<main class="container mt-4 flex-grow-1">
    <h2 class="text-center">Edit User</h2>

    <div class="card p-4">
        <!-- Update User Form -->
        <form th:action="@{/users/{username}(username=${user.username})}" th:object="${user}" method="post">
            <input type="hidden" name="_method" value="put"/> <!-- Simulate PUT request -->

            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" th:field="*{firstName}" required/>
            </div>

            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" th:field="*{lastName}" required/>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" th:field="*{email}" required/>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>

        <!-- Delete User Form -->
        <form th:action="@{/users/{username}(username=${user.username})}" method="post"
              onsubmit="return confirm('Are you sure you want to delete this user?');" class="mt-3 text-center">
            <input type="hidden" name="_method" value="delete"/> <!-- Simulate DELETE request -->
            <button type="submit" class="btn btn-danger">Delete User</button>
        </form>
    </div>
</main>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>
